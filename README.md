# ETL Pipeline

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–æ–¥—É–ª—å–Ω—É—é, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—É—é —Å–∏—Å—Ç–µ–º—É –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏, –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (CSV, SQLite) –≤ —Ü–µ–ª–µ–≤—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (PostgreSQL, ClickHouse).

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
extract/      - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (CSV, SQLite)
transform/    - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–æ—á–∏—Å—Ç–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∏ –¥—Ä.)
load/         - –ó–∞–≥—Ä—É–∑–∫–∞ –≤ Postgres –∏ ClickHouse
utils/        - –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∏ —É—Ç–∏–ª–∏—Ç—ã –ø–æ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
config.yaml   - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
main.py       - –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `config.yaml`, –≤–∫–ª—é—á–∞—è –ø—É—Ç–∏ –∫ –¥–∞–Ω–Ω—ã–º, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏. –ü—Ä–∏–º–µ—Ä:

```yaml
data_sources:
  sqlite: ./data
  csv: ./csv

sqlite_config:
  db_name: test.db

csv_config:
  headers: ["id", "name", "created_at"]

transformations:
  drop_nulls: true
  drop_duplicates: true

validation:
  foreign_keys:
    orders:
      user_id: users
      product_id: products

load_config:
  postgres:
    host: localhost
    port: 5432
    user: your_user
    password: your_password
    database: your_database
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```

2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `config.yaml` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø–æ–¥ –≤–∞—à –∫–µ–π—Å.

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç:
   ```bash
   python main.py
   ```

## üì¶ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ –ø—Ä–∏—ë–º–Ω–∏–∫–∏

| –¢–∏–ø           | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                              |
|---------------|-----------|-------------------------------------------|
| SQLite        | ‚úÖ         | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è + –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ + –∑–∞–≥—Ä—É–∑–∫–∞    |
| CSV           | ‚úÖ         | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤            |
| PostgreSQL    | üîú         | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∑–∞–≥—Ä—É–∑—á–∏–∫ (`to_sql`)        |
| ClickHouse    | üîú         | –ó–∞–≥–æ—Ç–æ–≤–∫–∞ –ø–æ–¥ `clickhouse-connect` –∏–ª–∏ `clickhouse-driver` |

## üìà –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

–ö–ª–∞—Å—Å `DataProfiler` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ DataFrame:

- –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏ –¥–æ–ª–∏ null-–∑–Ω–∞—á–µ–Ω–∏–π
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –ß–∞—Å—Ç–æ—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

## üõ°Ô∏è –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤
- –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏
- –í–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π (—Å –º—è–≥–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (SOON)

–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –ø–æ–∫—Ä—ã—Ç–∏–µ –º–æ–¥—É–ª–µ–π —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∞–º–∏ (`pytest`).

## üìå –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `pandas`
- `sqlite3`
- `psycopg2`
- `clickhouse-connect` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project/
‚îú‚îÄ‚îÄ analytics/
‚îÇ   ‚îú‚îÄ‚îÄ analytics.py
‚îÇ   ‚îî‚îÄ‚îÄ visualiazation.py
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ extract.py
‚îÇ   ‚îú‚îÄ‚îÄ transform.py
‚îÇ   ‚îú‚îÄ‚îÄ load.py
‚îÇ   ‚îî‚îÄ‚îÄ utils.py
‚îú‚îÄ‚îÄ config.yaml
‚îú‚îÄ‚îÄ main.py
‚îî‚îÄ‚îÄ README.md
```

## üìÉ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∞–≤—Ç–æ—Ä—Å—Ç–≤–∞.
